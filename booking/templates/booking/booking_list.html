  {% extends "base.html" %}

  {% block content %}
  <h1>Daftar Booking</h1>
  <br><br><br>
  <hr>

  <!-- Tombol tambah booking -->
  <p>
      <a href="{% url 'booking:booking_create' %}"
        style="background: #4CAF50; color: white; padding: 8px 12px; border-radius: 4px; text-decoration: none;">
          + Tambah Booking
      </a>
  </p>

  <!-- Tabel daftar booking -->
  <table border="1" cellpadding="8" cellspacing="0" width="100%">
      <thead style="background: #f2f2f2;">
          <tr>
              <th>No</th>
              <th>Lapangan</th>
              <th>Tanggal</th>
              <th>Jam</th>
              <th>Status</th>
              <th>Aksi</th>
          </tr>
      </thead>
      <tbody>
          {% if bookings %}
              {% for booking in bookings %}
              <tr>
                  <td>{{ forloop.counter }}</td>
                  <td>{{ booking.lapangan.nama }}</td>
                  <td>{{ booking.tanggal }}</td>
                  <td>
                      {% if booking.jam_mulai and booking.jam_selesai %}
                          {{ booking.jam_mulai }} - {{ booking.jam_selesai }}
                      {% else %}
                          {{ booking.jam }}
                      {% endif %}
                  </td>
                  <td>
                      {% if booking.status == 'pending' %}
                          <span style="color: orange;">Menunggu Konfirmasi</span>
                      {% elif booking.status == 'confirmed' %}
                          <span style="color: green;">Dikonfirmasi</span>
                      {% elif booking.status == 'cancelled' %}
                          <span style="color: red;">Dibatalkan</span>
                      {% else %}
                          {{ booking.status }}
                      {% endif %}
                  </td>
                  <td>
                      <a href="{% url 'booking:booking_update' booking.pk %}" style="color: blue;">Edit</a> |
                      {% if booking.status != 'cancelled' %}
                          <a href="{% url 'booking:booking_cancel' booking.pk %}"
                            style="color: red;"
                            onclick="return confirm('Yakin ingin membatalkan booking ini?')">
                            Batalkan
                          </a>
                      {% else %}
                          <em>-</em>
                      {% endif %}
                  </td>
              </tr>
              {% endfor %}
          {% else %}
              <tr>
                  <td colspan="6" style="text-align: center;">Belum ada booking.</td>
              </tr>
          {% endif %}
      </tbody>
  </table>
  {% endblock %}
