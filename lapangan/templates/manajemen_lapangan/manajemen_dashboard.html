{% extends 'base.html' %}

{% block content %}
<h1>Dashboard Manajemen Lapangan</h1>
<hr>

<!-- Tombol tambah lapangan -->
<p>
    <a href="{% url 'manajemen_lapangan:lapangan_create' %}" style="background: #4CAF50; color: white; padding: 8px 12px; border-radius: 4px; text-decoration: none;">
        + Tambah Lapangan
    </a>
</p>

<!-- Tabel daftar lapangan -->
<table border="1" cellspacing="0" cellpadding="8" width="100%">
    <thead style="background: #f2f2f2;">
        <tr>
            <th>No</th>
            <th>Nama</th>
            <th>Kategori</th>
            <th>Lokasi</th>
            <th>Harga per Jam</th>
            <th>Jam Buka</th>
            <th>Jam Tutup</th>
            <th>Foto</th>
            <th>Aksi</th>
        </tr>
    </thead>
    <tbody>
        {% if lapangan_list %}
            {% for l in lapangan_list %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ l.nama }}</td>
                    <td>{{ l.get_kategori_display }}</td>
                    <td>{{ l.lokasi }}</td>
                    <td>Rp {{ l.harga_per_jam }}</td>
                    <td>{{ l.jam_buka }}</td>
                    <td>{{ l.jam_tutup }}</td>
                    <td>
                        {% if l.foto %}
                            <img src="{{ l.foto.url }}" alt="Foto {{ l.nama }}" width="80">
                        {% else %}
                            <em>Tidak ada foto</em>
                        {% endif %}
                    </td>
                    <td>
                        <a href="{% url 'manajemen_lapangan:lapangan_edit' l.id_lapangan %}" style="color: blue;">Edit</a> |
                        <a href="{% url 'manajemen_lapangan:lapangan_delete' l.id_lapangan %}" style="color: red;"
                           onclick="return confirm('Yakin ingin menghapus lapangan ini?')">Hapus</a>
                    </td>
                </tr>
            {% endfor %}
        {% else %}
            <tr>
                <td colspan="9" style="text-align:center;">Belum ada data lapangan.</td>
            </tr>
        {% endif %}
    </tbody>
</table>
{% endblock %}
