{% extends "base.html" %}

{% block meta %}
<title>Courtify | Booking Lapangan Mudah</title>
{% endblock meta %}

{% block content %}

    <!-- Carousel Iklan -->
    <div class="relative w-full max-w-5xl mx-auto mt-10 overflow-hidden rounded-xl shadow-lg">
        <div id="carousel" class="flex transition-transform duration-700 ease-in-out">
            {% for iklan in iklan_list|slice:":10" %}
            <a href="{% url 'booking:booking_create' iklan.lapangan.id_lapangan %}" 
               class="w-full flex-shrink-0 flex bg-gray-50 hover:bg-gray-100 transition-all duration-300 rounded-xl overflow-hidden border border-gray-300 shadow-sm">
                <!-- Banner -->
                <div class="w-1/3">
                    <img src="{% if iklan.banner %}{{ iklan.banner.url }}{% else %}{{ iklan.lapangan.foto.url }}{% endif %}" 
                         alt="{{ iklan.judul }}" 
                         class="w-full h-64 object-cover">
                </div>
                <!-- Info -->
                <div class="w-2/3 p-6 flex flex-col justify-center">
                    <h2 class="text-2xl font-semibold text-blue-700 mb-2">{{ iklan.judul }}</h2>
                    <p class="text-gray-600 line-clamp-3">{{ iklan.deskripsi }}</p>
                </div>
            </a>
            {% empty %}
            <div class="w-full flex-shrink-0 flex items-center justify-center h-64 bg-gray-200">
                <p class="text-gray-600">Belum ada iklan yang ditampilkan.</p>
            </div>
            {% endfor %}
        </div>

        <!-- Tombol Navigasi -->
        <button id="prev" class="absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-40 text-white p-2 rounded-full hover:bg-opacity-70">
            &#10094;
        </button>
        <button id="next" class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-40 text-white p-2 rounded-full hover:bg-opacity-70">
            &#10095;
        </button>
    </div>

    <!-- Welcome Section -->
    <section class="text-center mt-16 px-4">
        <h1 class="text-4xl md:text-5xl font-bold mb-4">
            Selamat Datang di <span class="text-blue-600">Courtify</span>
        </h1>
        <p class="text-lg md:text-xl text-gray-700 max-w-2xl mx-auto">
            Platform pemesanan lapangan olahraga terbaik untuk semua kebutuhanmu.
        </p>
    </section>

    <!-- Features Section -->
    <section class="text-center mt-16 px-4">
        <p class="text-lg text-gray-700 mb-8">Pilih salah satu fitur di bawah ini untuk memulai:</p>
        <div class="flex flex-wrap justify-center gap-4">
            <a href="{% url 'booking:booking_list' %}"
               class="inline-block px-6 py-3 bg-blue-600 text-white no-underline rounded-lg font-medium hover:bg-blue-700 transition-colors duration-300 shadow-md hover:shadow-lg">
                Lihat & Buat Booking
            </a>
            <a href="{% url 'artikel:news_list' %}"
               class="inline-block px-6 py-3 bg-green-600 text-white no-underline rounded-lg font-medium hover:bg-green-700 transition-colors duration-300 shadow-md hover:shadow-lg">
                Artikel & Berita
            </a>
            <a href="{% url 'wishlist:wishlist_list' %}"
               class="inline-block px-6 py-3 bg-yellow-500 text-black no-underline rounded-lg font-medium hover:bg-yellow-600 transition-colors duration-300 shadow-md hover:shadow-lg">
                Wishlist Saya
            </a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="text-center mt-20 py-8 text-gray-600">
        <p>&copy; 2025 Courtify. All rights reserved.</p>
    </footer>

    <script>
        const carousel = document.getElementById('carousel');
        const items = carousel.children;
        const total = items.length;
        let index = 0;

        const nextBtn = document.getElementById('next');
        const prevBtn = document.getElementById('prev');

        function showSlide(i) {
            carousel.style.transform = `translateX(-${i * 100}%)`;
        }

        nextBtn.addEventListener('click', () => {
            index = (index + 1) % total;
            showSlide(index);
        });

        prevBtn.addEventListener('click', () => {
            index = (index - 1 + total) % total;
            showSlide(index);
        });

        setInterval(() => {
            index = (index + 1) % total;
            showSlide(index);
        }, 5000);
    </script>

{% endblock content %}
