{% extends "base.html" %}

{% block meta %}
<title>Courtify | Booking Lapangan Mudah</title>
{% endblock meta %}

{% block content %}

    <!-- Carousel Iklan -->
    <div class="relative w-full max-w-5xl mx-auto mt-10 overflow-hidden rounded-xl shadow-lg">
        <div id="carousel" class="flex transition-transform duration-700 ease-in-out">
            {% for iklan in iklan_list|slice:":10" %}
            <a href="{% url 'booking:booking_create' iklan.lapangan.id_lapangan %}" 
               class="w-full flex-shrink-0 flex bg-gray-50 hover:bg-gray-100 transition-all duration-300 rounded-xl overflow-hidden border border-gray-300 shadow-sm">
                <!-- Banner -->
                <div class="w-1/3">
                    <img src="{% if iklan.banner %}{{ iklan.banner.url }}{% else %}{{ iklan.lapangan.foto.url }}{% endif %}" 
                         alt="{{ iklan.judul }}" 
                         class="w-full h-64 object-cover">
                </div>
                <!-- Info -->
                <div class="w-2/3 p-6 flex flex-col justify-center">
                    <h2 class="text-2xl font-semibold text-blue-700 mb-2">{{ iklan.judul }}</h2>
                    <p class="text-gray-600 line-clamp-3">{{ iklan.deskripsi }}</p>
                </div>
            </a>
            {% empty %}
            <div class="w-full flex-shrink-0 flex items-center justify-center h-64 bg-gray-200">
                <p class="text-gray-600">Belum ada iklan yang ditampilkan.</p>
            </div>
            {% endfor %}
        </div>

        <!-- Tombol Navigasi -->
        <button id="prev" class="absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-40 text-white p-2 rounded-full hover:bg-opacity-70">
            &#10094;
        </button>
        <button id="next" class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-40 text-white p-2 rounded-full hover:bg-opacity-70">
            &#10095;
        </button>
    </div>

    <header style="text-align: center; margin-top: 40px;">
        <h1>Selamat Datang di <span style="color: #007bff;">Courtify</span></h1>
        <p>Platform pemesanan lapangan olahraga terbaik untuk semua kebutuhanmu.</p>
    </header>

    <main style="text-align: center; margin-top: 50px;">
        <p>Pilih salah satu fitur di bawah ini untuk memulai:</p>
        <div style="margin-top: 20px;">
            <a href="{% url 'booking:booking_list' %}" 
               style="display: inline-block; margin: 10px; padding: 12px 25px; background-color: #007bff; color: white; text-decoration: none; border-radius: 5px;">
                Lihat & Buat Booking
            </a>
            <a href="{% url 'artikel:news_list' %}" 
               style="display: inline-block; margin: 10px; padding: 12px 25px; background-color: #28a745; color: white; text-decoration: none; border-radius: 5px;">
                Artikel & Berita
            </a>
            <a href="{% url 'wishlist:wishlist' %}" 
               style="display: inline-block; margin: 10px; padding: 12px 25px; background-color: #ffc107; color: black; text-decoration: none; border-radius: 5px;">
                Wishlist Saya
            </a>
        </div>
    </main>

    <footer style="text-align: center; margin-top: 80px; font-size: 14px; color: #666;">
        <p>Â© 2025 Courtify. All rights reserved.</p>
    </footer>

    <script>
        const carousel = document.getElementById('carousel');
        const items = carousel.children;
        const total = items.length;
        let index = 0;

        const nextBtn = document.getElementById('next');
        const prevBtn = document.getElementById('prev');

        function showSlide(i) {
            carousel.style.transform = `translateX(-${i * 100}%)`;
        }

        nextBtn.addEventListener('click', () => {
            index = (index + 1) % total;
            showSlide(index);
        });

        prevBtn.addEventListener('click', () => {
            index = (index - 1 + total) % total;
            showSlide(index);
        });

        setInterval(() => {
            index = (index + 1) % total;
            showSlide(index);
        }, 5000);
    </script>

{% endblock content %}
